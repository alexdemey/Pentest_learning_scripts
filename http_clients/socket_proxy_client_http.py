import socket

#Create the socket
sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM, 0)

#The server url and port
#sock.connect(("127.0.0.1", 9090))
sock.connect(("127.0.0.1", 9090))

#Send the HTTP headers of the request
#Need to set the full uri after GET to tell to the proxy to go search the requester url
sock.send(str.encode("GET http://vulnerable/ HTTP/1.1\r\nhost: vulnerable\r\nConnection: close\r\n\r\n"))

#While there is datas from the server'response,
#read them, then close socket
response = ""
while True:
    data = sock.recv(1024)
    if not data:
        sock.close()
        break 
    else:
        response += repr(data)

#Print the response
print(response)
