import socket
import ssl

#Create the socket
sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM, 0)

#Create a ssl context and wrap socket in a ssl socket
context = ssl.SSLContext(ssl.PROTOCOL_TLS) 
ssl_sock = context.wrap_socket(sock)

ssl_sock.connect(("192.168.1.124", 443))

#Send the HTTP headers of the request
#Need to set the full uri after GET to tell to the proxy to go search the requester url
ssl_sock.send(str.encode("GET https://192.168.1.124/article.php?id=2 HTTP/1.1\r\nhost: 192.168.1.124\r\nConnection: close\r\n\r\n"))

#While there is datas from the server'response,
#read them, then close socket
response = ""
while True:
    data = ssl_sock.recv(1024)
    if not data:
        ssl_sock.close()
        break 
    else:
        response += repr(data)

#Print the response
print(response)
