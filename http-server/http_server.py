import threading
import socket
import sys
from RequestHandler import RequestHandler

ROOT_DIRECTORY = "/var/www/html"
LISTENING_PORT = 8000
LISTENING_ADDR = "192.168.1.33"

REQUEST_QUEUE = []

def main() :
    s_server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s_server.bind((LISTENING_ADDR, LISTENING_PORT))
    s_server.listen()

    while True:
        new_request = s_server.accept()
        REQUEST_QUEUE.append(new_request)
        th = RequestHandler(new_request, ROOT_DIRECTORY)
        print(th.name)
        th.start()


if __name__ == "__main__" :

    main()
